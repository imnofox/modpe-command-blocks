!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d={};d.save=function(a,b){var c=(new android.os.Environment.getExternalStorageDirectory).getPath()+"/games/com.mojang/minecraftworlds/"+Level.getWorldDir()+"/modData/commandBlocks/";try{a+=".json";var e=new java.io.File(c+a);e.exists()&&e["delete"](),e.createNewFile();var f=new java.io.OutputStreamWriter(new java.io.FileOutputStream(e));return f.append(JSON.stringify(b||{})),f.close(),d.read(a)}catch(g){print(g)}},d.read=function(a){var b=(new android.os.Environment.getExternalStorageDirectory).getPath()+"/games/com.mojang/minecraftworlds/"+Level.getWorldDir()+"/modData/commandBlocks/";a+=".json",java.io.File(new java.io.File(b)).mkdirs();var c=new java.io.File(b+a);if(!c.exists())return{};try{for(var d,e=new java.io.FileInputStream(c),f=new java.lang.StringBuilder;-1!=(d=e.read());)f.append(java.lang.Character(d));var g=JSON.parse(String(f.toString()));e.close()}catch(h){g={}}return g},b.exports=d},{}],2:[function(a,b,c){var d=function(){return this}.call(null);b.exports=d},{}],3:[function(require,module,exports){function newLevel(){commandBlocks=Data.read(config_filename)}function leaveGame(){Data.save(config_filename,commandBlocks)}function useItem(a,b,c,d,e,f){var g=a+"/"+b+"/"+c;if(e==command_block_id)return g in commandBlocks||(commandBlocks[g]={x:a,y:b,z:c,command:"",type:"command_block",output:"",toggle_mode:!1}),preventDefault(),void editCommandBlock(a,b,c);if(d==command_block_id){var h=[[a,b-1,c],[a,b+1,c],[a,b,c-1],[a,b,c+1],[a-1,b,c],[a+1,b,c]];a=h[f][0],b=h[f][1],c=h[f][2],0==Level.getTile(a,b,c)&&(commandBlocks[g]={x:a,y:b,z:c,command:"",type:"command_block",output:"",toggle_mode:!1},Data.save(config_filename,commandBlocks),Level.setTile(a,b,c,137))}}function destroyBlock(a,b,c){if(Level.getTile(a,b,c)==command_block_id){var d=a+"/"+b+"/"+c;if(!(d in commandBlocks))return!1;delete commandBlocks[d]}}function redstoneUpdateHook(x,y,z,newCurrent,worldLoading,blockId,blockDamage){if(worldLoading)return!1;if(blockId==command_block_id){var key=x+"/"+y+"/"+z;if(!(key in commandBlocks))return!1;var data=commandBlocks[key];if(0>=newCurrent&&0==data.toggle_mode)return!1;commandBlocks[key].output="";var match;if("/"==data.command.substring(0,1))"/help"==data.command?commandBlocks[key].output=searge_says[Math.floor(Math.random()*searge_says.length)]:net.zhuoweizhang.mcpelauncher.ScriptManager.callScriptMethod("procCmd",[data.command.substring(1)]);else if(match=data.command.match(/^(javascript:|js:)/gi))try{eval(data.command.substring(match[0].length))}catch(err){print(err)}else"Searge"==data.command?commandBlocks[key].output="#itzlipofutzli":commandBlocks[key].output="No command or JS provided."}}function editCommandBlock(a,b,c){var d=com.mojang.minecraftpe.MainActivity.currentMainActivity.get();d.runOnUiThread(new java.lang.Runnable({run:function(){try{var e=a+"/"+b+"/"+c,f=new android.view.ViewGroup.LayoutParams(-1,-1),g=new android.view.ViewGroup.LayoutParams(-2,-2),h=new android.app.AlertDialog.Builder(d);h.setTitle("Command Block");var i=new android.widget.HorizontalScrollView(d),j=new android.widget.LinearLayout(d);j.setOrientation(1);var k=new android.widget.EditText(d);k.setHint("Insert command or javascript"),k.setText(commandBlocks[e].command),k.setInputType(524288),"toggle_mode"in commandBlocks[e]||(commandBlocks[e].toggle_mode=!1);var l=new android.widget.CheckBox(d);l.setChecked(commandBlocks[e].toggle_mode);var m=new android.widget.TextView(d);m.setText("Toggle mode? ");var n=new android.widget.LinearLayout(d);n.setOrientation(0),n.addView(m,g),n.addView(l,g),j.addView(k,f),j.addView(n,f);var o=commandBlocks[e].output||"No output available.",p=new android.widget.TextView(d);p.setText("Previous Output: "+o),i.addView(p),j.addView(i,f),h.setView(j),h.setPositiveButton("Ok",new android.content.DialogInterface.OnClickListener({onClick:function(a){commandBlocks[e].command=""+k.getText().toString(),commandBlocks[e].toggle_mode=l.isChecked(),Data.save(config_filename,commandBlocks)}})),h.setNegativeButton("Cancel",new android.content.DialogInterface.OnClickListener({onClick:function(a){}}));var q=h.create();q.show()}catch(r){print("An error occured: "+r)}}}))}var globe=require("./global.js"),Data=require("./data.js");globe.newLevel=newLevel,globe.useItem=useItem,globe.redstoneUpdateHook=redstoneUpdateHook,globe.leaveGame=leaveGame;var config_filename="commandBlocks",searge_says=["Yolo","/achievement take achievement.understandCommands @p","Ask for help on twitter","/deop @p","Scoreboard deleted, commands blocked","Contact helpdesk for help","/testfornoob @p","/trigger warning","Oh my god, it's full of stats","/kill @p[name=!Searge]","Have you tried turning it off and on again?","Sorry, no help today"],commandBlocks={},command_block_id=137;Block.defineBlock(command_block_id,"Command Block",[["command_block",0]],7,!0,0),Block.setRedstoneConsumer(command_block_id,!0),Player.addItemCreativeInv(command_block_id,1,0),Item.setCategory(command_block_id,ItemCategory.TOOL)},{"./data.js":1,"./global.js":2}]},{},[3]);