!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d={};d.save=function(a,b){var c=(new android.os.Environment.getExternalStorageDirectory).getPath()+"/games/com.mojang/minecraftworlds/"+Level.getWorldDir()+"/modData/commandBlocks/";try{a+=".json";var e=new java.io.File(c+a);e.exists()&&e["delete"](),e.createNewFile();var f=new java.io.OutputStreamWriter(new java.io.FileOutputStream(e));return f.append(JSON.stringify(b||{})),f.close(),d.read(a)}catch(g){print(g)}},d.read=function(a){var b=(new android.os.Environment.getExternalStorageDirectory).getPath()+"/games/com.mojang/minecraftworlds/"+Level.getWorldDir()+"/modData/commandBlocks/";a+=".json",java.io.File(new java.io.File(b)).mkdirs();var c=new java.io.File(b+a);if(!c.exists())return{};try{for(var d,e=new java.io.FileInputStream(c),f=new java.lang.StringBuilder;-1!=(d=e.read());)f.append(java.lang.Character(d));var g=JSON.parse(String(f.toString()));e.close()}catch(h){g={}}return g},b.exports=d},{}],2:[function(a,b,c){var d=function(){return this}.call(null);b.exports=d},{}],3:[function(require,module,exports){function newLevel(){commandBlocks=Data.read(config_filename)}function leaveGame(){Data.save(config_filename,commandBlocks)}function useItem(a,b,c,d,e,f){var g=a+"/"+b+"/"+c;if(e==command_block_id&&(g in commandBlocks||(commandBlocks[g]={x:a,y:b,z:c,command:"",type:"command_block"}),preventDefault(),editCommandBlock(a,b,c)),d==command_block_id){var h=[[a,b-1,c],[a,b+1,c],[a,b,c-1],[a,b,c+1],[a-1,b,c],[a+1,b,c]];a=h[f][0],b=h[f][1],c=h[f][2],0==Level.getTile(a,b,c)&&(commandBlocks[g]={x:a,y:b,z:c,command:"",type:"command_block"},Level.setTile(a,b,c,137))}}function destroyBlock(a,b,c){if(Level.getTile(a,b,c)==command_block_id){var d=a+"/"+b+"/"+c;if(!(d in commandBlocks))return!1;delete commandBlocks[d]}}function redstoneUpdateHook(x,y,z,newCurrent,worldLoading,blockId,blockDamage){if(0>=newCurrent||worldLoading)return!1;if(blockId==command_block_id){var key=x+"/"+y+"/"+z;if(!(key in commandBlocks))return!1;var data=commandBlocks[key];"/"==data.command.substring(0,1)?clientMessage(data.command):"javascript:"==data.command.substring(0,11).toLowerCase()&&eval(data.command.substring(11))}}function editCommandBlock(a,b,c){var d=com.mojang.minecraftpe.MainActivity.currentMainActivity.get();d.runOnUiThread(new java.lang.Runnable({run:function(){try{var e=a+"/"+b+"/"+c,f=new android.app.AlertDialog.Builder(d);f.setTitle("Command Block");var g=(new android.widget.ScrollView(d),new android.widget.LinearLayout(d));g.setOrientation(1);var h=new android.widget.EditText(d);h.setHint("Insert command or javascript"),h.setText(commandBlocks[e].command);var i=new android.view.ViewGroup.LayoutParams(-1,-1);g.addView(h,i),f.setView(g),f.setPositiveButton("Ok",new android.content.DialogInterface.OnClickListener({onClick:function(a){commandBlocks[e].command=""+h.getText().toString(),print(commandBlocks[e].command)}})),f.setNegativeButton("Cancel",new android.content.DialogInterface.OnClickListener({onClick:function(a){}}));var j=f.create();j.show()}catch(k){print("An error occured: "+k)}}}))}function toast(a){var b=com.mojang.minecraftpe.MainActivity.currentMainActivity.get();b.runOnUiThread(new java.lang.Runnable({run:function(){try{var c=android.app.widget.Toast,d=new c.makeText(b,a,c.LENGTH_LONG);d.show()}catch(e){print("An error occured: "+e)}}}))}var globe=require("./global.js"),Data=require("./data.js");globe.newLevel=newLevel,globe.useItem=useItem,globe.redstoneUpdateHook=redstoneUpdateHook,globe.leaveGame=leaveGame;var config_filename="commandBlocks",commandBlocks={},command_block_id=137;Block.defineBlock(command_block_id,"Command Block",[["command_block",0]],7,!0,0),Block.setRedstoneConsumer(command_block_id,!0),Player.addItemCreativeInv(command_block_id,1,0)},{"./data.js":1,"./global.js":2}]},{},[3]);